
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chatbot with Light Pattern Background</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
<style>
  html, body {
    height: 100%;
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f0f0;
  }
  #chat-container {
    position: fixed; top: 0; left: 0;
    width: 100vw; height: 100vh;
    display: flex; flex-direction: column;
    background: #fff;
    box-shadow: 0 8px 24px rgba(0,0,0,0.10);
    overflow: hidden;
  }
  /* Header styling */
  #chat-header {
    background: #fff;
    border-bottom: 1px solid grey;
    height: 80px;
    padding: 0 30px 0 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 1001;
    user-select: none;
    box-sizing: border-box;
  }
  #header-logo-button {
    position: absolute;
    left: 30px;
    height: 70px; /* Enlarged logo height */
    width: auto;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
    z-index: 1002;
  }
  #header-logo-button img {
    height: 100%;
    width: auto;
    object-fit: contain;
    display: block;
    transition: transform 0.3s ease;
  }
  #header-logo-button img:hover {
    transform: scale(1.1);
  }
  #chat-header .brand-text {
    font-size: 2.5rem;
    font-weight: 900;
    letter-spacing: 1px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    user-select: none;
    color: #205B6F;
    text-align: center;
    width: 100%;
  }
  #chat-header .brand-text .campus {
    color: #205B6F;
    margin-right: 4px;
    text-transform: capitalize;
  }
  #chat-header .brand-text .connect {
    color: #8cc63f;
    text-transform: capitalize;
  }
  #logo {
    display: none;
  }
  #chat-window {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    background-color: #f9f9f9;
    background-image: url('back.jpg');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center center;
  }
  .message {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
    max-width: 75%;
    line-height: 1.5;
    animation: fadeIn 0.3s forwards;
    opacity: 0;
  }
  @keyframes fadeIn { to { opacity: 1; } }
  .user {
    justify-content: flex-end;
  }
  .user .avatar {
    margin-left: 10px;
  }
  .bot {
    justify-content: flex-start;
    margin-left: 150px;
    margin-right: auto;
  }
  .bot .avatar {
    margin-right: 10px;
  }
  .avatar {
    width: 32px; height: 32px;
    border-radius: 50%;
    background: #fff;
    box-shadow: 0 1px 4px rgba(0,0,0,0.12);
    object-fit: cover;
    border: 2px solid #757575;
  }
  .user .message-content {
    background: #757575;
    color: #f0f0f0;
    padding: 12px 18px;
    border-radius: 20px 20px 0 20px;
    box-shadow: 0 2px 6px rgba(117,117,117,0.4);
    font-weight: 500;
  }
  .bot .message-content {
    background: #c0c0c0;
    color: #2e2e2e;
    padding: 12px 18px;
    border-radius: 40px 40px 40px 0;
    box-shadow: 0 2px 6px rgba(192,192,192,0.6);
    font-weight: 400;
  }
  .typing .message-content {
    background: transparent;
    box-shadow: none;
    padding: 0 0 0 10px;
  }
  .typing-dots span {
    display: inline-block;
    width: 8px; height: 8px;
    margin: 0 3px;
    background-color: #757575;
    border-radius: 50%;
    animation: blink 1.4s infinite both;
    opacity: 0.3;
  }
  .typing-dots span:nth-child(1) { animation-delay: 0s; }
  .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
  .typing-dots span:nth-child(3) { animation-delay: 0.4s; }
  @keyframes blink {
    0%, 80%, 100% { opacity: 0.3; }
    40% { opacity: 1; }
  }
  #input-area {
    position: relative;
    padding: 0 20px;
    background: #f8f8f8;
    border-top: 1px solid #b0b0b0;
    display: flex;
    align-items: center;
    flex-shrink: 0;
  }
  #user-input {
    flex: 1;
    padding: 14px 110px 14px 20px;
    font-size: 17px;
    border-radius: 30px;
    border: 1.8px solid #999999;
    outline: none;
    color: #262626;
    background: #f0f0f0;
    box-sizing: border-box;
  }
  #user-input:focus {
    border-color: #666666;
    box-shadow: 0 0 8px rgba(102,102,102,0.5);
    background: #fff;
  }
  #voice-btn, #send-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px; height: 40px;
    border-radius: 50%;
    background: #757575;
    border: none;
    color: #f0f0f0;
    font-size: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
  }
  #send-btn { right: 44px; }
  #voice-btn { right: 94px; }
  #voice-btn:hover, #send-btn:hover { background: #555555; }
  #send-btn:disabled { background: #b0b0b0; cursor: not-allowed; }
  /* Voice modal styles */
  #voice-modal {
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    background: rgba(48, 48, 48, 0.08);
    z-index: 2002;
    display: none;
    align-items: center;
    justify-content: center;
  }
  #voice-modal-content {
    background: #fff;
    padding: 40px 50px;
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.20);
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 300px;
  }
  #voice-modal .mic-icon {
    font-size: 3rem;
    color: #757575;
    margin-bottom: 18px;
  }
  #voice-modal .modal-text {
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 18px;
    color: #205B6F;
    letter-spacing: 0.5px;
  }
  .listening-animation {
    display: flex;
    gap: 8px;
    margin-bottom: 4px;
  }
  .listening-animation span {
    width: 12px; height: 12px;
    background-color: #32c862;
    border-radius: 50%;
    opacity: 0.4;
    animation: listen-blink 1.2s infinite both;
  }
  .listening-animation span:nth-child(2) { animation-delay: 0.22s; }
  .listening-animation span:nth-child(3) { animation-delay: 0.44s; }
  @keyframes listen-blink {
    0%, 80%, 100% { opacity: 0.4; }
    40% { opacity: 1; }
  }
</style>
</head>
<body>
  <div id="chat-container" role="main" aria-label="Chat container">
    <header id="chat-header" role="banner" aria-label="Chat header">
      <button id="header-logo-button" aria-label="CampusConnect Home">
        <img src="whitelogo.jpg" alt="CampusConnect Logo" />
      </button>
      <span class="brand-text">
        <span class="campus">Campus</span><span class="connect">Connect</span>
      </span>
    </header>
    <div id="chat-window" aria-live="polite" aria-relevant="additions"></div>
    <form id="input-area" autocomplete="off" aria-label="Message input form">
      <input id="user-input" type="text" placeholder="Say something..." aria-label="Message input" required />
      <button id="voice-btn" type="button" aria-label="Send voice message" title="Send voice message">
        <i class="fas fa-microphone" aria-hidden="true"></i>
      </button>
      <button id="send-btn" type="submit" aria-label="Send message">
        <i class="fas fa-paper-plane" aria-hidden="true"></i>
      </button>
    </form>
  </div>
  <!-- Voice Modal -->
  <div id="voice-modal" role="dialog" aria-live="polite" aria-label="Voice Recording">
    <div id="voice-modal-content">
      <span class="mic-icon">
        <i class="fas fa-microphone"></i>
      </span>
      <span class="modal-text">Speak nowâ€¦</span>
      <div class="listening-animation">
        <span></span><span></span><span></span>
      </div>
    </div>
  </div>
<script>
  const chatWindow = document.getElementById('chat-window');
  const userInput = document.getElementById('user-input');
  const inputArea = document.getElementById('input-area');
  const sendButton = document.getElementById('send-btn');
  const voiceButton = document.getElementById('voice-btn');
  const voiceModal = document.getElementById('voice-modal');
  let botMessageCounter = 0;
  function addMessage(text, sender) {
    const msgDiv = document.createElement('div');
    msgDiv.classList.add(sender, 'message');
    let avatar = null;
    if (sender === 'user') {
      avatar = document.createElement('img');
      avatar.className = 'avatar';
      avatar.src = 'https://cdn-icons-png.flaticon.com/512/1946/1946429.png';
      avatar.alt = 'User Icon';
    } else if (sender === 'bot') {
      botMessageCounter++;
      const botId = 'bot-msg-' + botMessageCounter;
      msgDiv.setAttribute('data-bot-id', botId);
      avatar = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      avatar.setAttribute("width", "32");
      avatar.setAttribute("height", "32");
      avatar.setAttribute("fill", "#757575");
      avatar.setAttribute("viewBox", "0 0 24 24");
      avatar.classList.add('avatar');
      const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
      path.setAttribute("d", "M12 2c-4.97 0-9 4.03-9 9 0 3.55 2.08 6.57 5.18 8.62L8 23h8l-.18-3.38C18.92 17.57 21 14.55 21 11c0-4.97-4.03-9-9-9zm0 16a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 12 18zm-2-8h4v2h-4z");
      avatar.appendChild(path);
    }
    const contentDiv = document.createElement('div');
    contentDiv.classList.add('message-content');
    contentDiv.textContent = text;
    if (sender === 'user') {
      msgDiv.appendChild(contentDiv);
      if (avatar) msgDiv.appendChild(avatar);
    } else {
      if (avatar) msgDiv.appendChild(avatar);
      msgDiv.appendChild(contentDiv);
    }
    chatWindow.appendChild(msgDiv);
    chatWindow.scrollTop = chatWindow.scrollHeight;
  }
  inputArea.addEventListener('submit', async e => {
    e.preventDefault();
    const message = userInput.value.trim();
    if (!message) return;
    addMessage(message, 'user');
    userInput.value = '';
    userInput.disabled = true;
    sendButton.disabled = true;
    const typingDiv = document.createElement('div');
    typingDiv.className = 'bot message typing';
    typingDiv.innerHTML = '<div class="message-content typing-dots"><span></span><span></span><span></span></div>';
    chatWindow.appendChild(typingDiv);
    chatWindow.scrollTop = chatWindow.scrollHeight;
    setTimeout(() => {
      chatWindow.removeChild(typingDiv);
      addMessage("Bot: " + message, 'bot');
      userInput.disabled = false;
      sendButton.disabled = false;
      userInput.focus();
    }, 3000);
  });
  voiceButton.addEventListener('click', () => {
    voiceModal.style.display = 'flex';
    // Here you can implement the actual voice recognition feature.
    setTimeout(() => {
      voiceModal.style.display = 'none';
      alert('Voice message recording feature to be implemented.');
    }, 4000);
  });
  userInput.focus();
</script>
</body>
</html>
